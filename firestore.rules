/**
 * @file Firestore Security Rules
 * @description This ruleset allows public read and write access to all data in the database.
 *   This configuration is for PROTOTYPING ONLY and should NOT be used in a production environment.
 *   It is crucial to implement proper authentication and authorization mechanisms before launching the application.
 *
 * Data Structure:
 * - /institutions/{institutionId}: Stores institution data. Public access.
 * - /departments/{departmentId}: Stores department data. Public access.
 * - /students/{studentId}: Stores student data. Public access.
 * - /attendances/{attendanceId}: Stores attendance records. Public access.
 * - /evaluation_criteria/{evaluationCriteriaId}: Stores evaluation criteria. Public access.
 * - /grades/{gradeId}: Stores grades. Public access.
 *
 * Key Security Decisions:
 * - Public read access is granted to all collections for prototyping purposes.
 * - Public write access is granted to all collections for prototyping purposes.
 */
rules_version = '2';
service cloud.firestore {
  match /databases/{database}/documents {

    /**
     * @description Allows public read and write access to institution data for prototyping.
     * @path /institutions/{institutionId}
     * @allow (get, list) All users can read institution data.
     * @allow (create, update, delete) All users can create, update, and delete institution data.
     * @deny None. This is a prototyping configuration.
     * @principle Public access for prototyping.
     */
    match /institutions/{institutionId} {
      allow get, list: if true;
      allow create, update, delete: if true;
    }

    /**
     * @description Allows public read and write access to department data for prototyping.
     * @path /departments/{departmentId}
     * @allow (get, list) All users can read department data.
     * @allow (create, update, delete) All users can create, update, and delete department data.
     * @deny None. This is a prototyping configuration.
     * @principle Public access for prototyping.
     */
    match /departments/{departmentId} {
      allow get, list: if true;
      allow create, update, delete: if true;
    }

    /**
     * @description Allows public read and write access to student data for prototyping.
     * @path /students/{studentId}
     * @allow (get, list) All users can read student data.
     * @allow (create, update, delete) All users can create, update, and delete student data.
     * @deny None. This is a prototyping configuration.
     * @principle Public access for prototyping.
     */
    match /students/{studentId} {
      allow get, list: if true;
      allow create, update, delete: if true;
    }

    /**
     * @description Allows public read and write access to attendance data for prototyping.
     * @path /attendances/{attendanceId}
     * @allow (get, list) All users can read attendance data.
     * @allow (create, update, delete) All users can create, update, and delete attendance data.
     * @deny None. This is a prototyping configuration.
     * @principle Public access for prototyping.
     */
    match /attendances/{attendanceId} {
      allow get, list: if true;
      allow create, update, delete: if true;
    }

    /**
     * @description Allows public read and write access to evaluation criteria data for prototyping.
     * @path /evaluation_criteria/{evaluationCriteriaId}
     * @allow (get, list) All users can read evaluation criteria data.
     * @allow (create, update, delete) All users can create, update, and delete evaluation criteria data.
     * @deny None. This is a prototyping configuration.
     * @principle Public access for prototyping.
     */
    match /evaluation_criteria/{evaluationCriteriaId} {
      allow get, list: if true;
      allow create, update, delete: if true;
    }

    /**
     * @description Allows public read and write access to grade data for prototyping.
     * @path /grades/{gradeId}
     * @allow (get, list) All users can read grade data.
     * @allow (create, update, delete) All users can create, update, and delete grade data.
     * @deny None. This is a prototyping configuration.
     * @principle Public access for prototyping.
     */
    match /grades/{gradeId} {
      allow get, list: if true;
      allow create, update, delete: if true;
    }
  }
}