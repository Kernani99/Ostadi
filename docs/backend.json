{
  "entities": {
    "Institution": {
      "title": "Institution",
      "type": "object",
      "description": "Represents an educational institution.",
      "properties": {
        "name": {
          "type": "string",
          "description": "Name of the institution."
        },
        "municipality": {
          "type": "string",
          "description": "Municipality where the institution is located."
        }
      },
      "required": [
        "name",
        "municipality"
      ]
    },
    "Department": {
      "title": "Department",
      "type": "object",
      "description": "Represents a department within an institution.",
      "properties": {
        "institutionId": {
          "type": "string",
          "description": "Reference to Institution. (Relationship: Institution 1:N Department)"
        },
        "name": {
          "type": "string",
          "description": "Name of the department."
        }
      },
      "required": [
        "institutionId",
        "name"
      ]
    },
    "Student": {
      "title": "Student",
      "type": "object",
      "description": "Represents a student.",
      "properties": {
        "firstName": {
          "type": "string",
          "description": "First name of the student."
        },
        "lastName": {
          "type": "string",
          "description": "Last name of the student."
        },
        "dateOfBirth": {
          "type": "string",
          "format": "date",
          "description": "Date of birth of the student."
        },
        "gender": {
          "type": "string",
          "description": "Gender of the student (male/female)."
        },
        "level": {
          "type": "string",
          "description": "The student's grade level (e.g., 'أولى ابتدائي')."
        },
        "institutionId": {
          "type": "string",
          "description": "Reference to Institution."
        },
        "status": {
          "type": "string",
          "enum": [
            "active",
            "exempt"
          ],
          "description": "The student's status (active/exempt)."
        }
      },
      "required": [
        "firstName",
        "lastName",
        "gender",
        "level",
        "institutionId",
        "status"
      ]
    },
    "Attendance": {
      "title": "Attendance",
      "type": "object",
      "description": "Represents the attendance record of a student.",
      "properties": {
        "studentId": {
          "type": "string",
          "description": "Reference to Student. (Relationship: Student 1:N Attendance)"
        },
        "date": {
          "type": "string",
          "description": "Date of the attendance record.",
          "format": "date-time"
        },
        "status": {
          "type": "string",
          "description": "Attendance status (present, excused, unexcused, late)."
        }
      },
      "required": [
        "studentId",
        "date",
        "status"
      ]
    },
    "EvaluationCriteria": {
      "title": "EvaluationCriteria",
      "type": "object",
      "description": "Represents criteria used for evaluating students.",
      "properties": {
        "name": {
          "type": "string",
          "description": "Name of the evaluation criteria (e.g., Skill, Behavior, Participation)."
        },
        "weight": {
          "type": "number",
          "description": "Weight of the evaluation criteria."
        }
      },
      "required": [
        "name",
        "weight"
      ]
    },
    "Grade": {
      "title": "Grade",
      "type": "object",
      "description": "Represents a student's grade for a specific evaluation criteria.",
      "properties": {
        "studentId": {
          "type": "string",
          "description": "Reference to Student. (Relationship: Student 1:N Grade)"
        },
        "evaluationCriteriaId": {
          "type": "string",
          "description": "Reference to EvaluationCriteria. (Relationship: EvaluationCriteria 1:N Grade)"
        },
        "grade": {
          "type": "number",
          "description": "The grade value."
        }
      },
      "required": [
        "studentId",
        "evaluationCriteriaId",
        "grade"
      ]
    }
  },
  "auth": {
    "providers": [
      "password",
      "anonymous"
    ]
  },
  "firestore": {
    "/institutions/{institutionId}": {
      "schema": {
        "$ref": "#/backend/entities/Institution"
      },
      "description": "Stores institution data. No authentication is needed."
    },
    "/departments/{departmentId}": {
      "schema": {
        "$ref": "#/backend/entities/Department"
      },
      "description": "Stores department data.  No authentication is needed."
    },
    "/students/{studentId}": {
      "schema": {
        "$ref": "#/backend/entities/Student"
      },
      "description": "Stores student data. No authentication is needed."
    },
    "/attendances/{attendanceId}": {
      "schema": {
        "$ref": "#/backend/entities/Attendance"
      },
      "description": "Stores attendance records. No authentication is needed."
    },
    "/evaluation_criteria/{evaluationCriteriaId}": {
      "schema": {
        "$ref": "#/backend/entities/EvaluationCriteria"
      },
      "description": "Stores evaluation criteria. No authentication is needed."
    },
    "/grades/{gradeId}": {
      "schema": {
        "$ref": "#/backend/entities/Grade"
      },
      "description": "Stores grades. No authentication is needed."
    }
  }
}
